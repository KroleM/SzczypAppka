<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             x:Class="DesktopApp.MainPage"
             xmlns:viewmodels="clr-namespace:DesktopApp.ViewModels"
             xmlns:views="clr-namespace:DesktopApp.Views"
             xmlns:selectors="clr-namespace:DesktopApp.DataTemplateSelectors"
             x:DataType="viewmodels:MainViewModel">
    <ContentPage.Resources>
        <selectors:MainDataTemplateSelector x:Key="rightPanelDataTemplateSelector"
                                            ApplicationDataTemplate="{StaticResource applicationTemplate}"/>
    </ContentPage.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        
        <VerticalStackLayout Grid.Column="0" Background="Green">
            <Label Text="{Binding Title}" HorizontalOptions="Center" Style="{StaticResource Headline}"/>
        </VerticalStackLayout>
        <VerticalStackLayout Grid.Column="1" Background="Orange">
            <Button
                x:Name="CounterBtn"
                Text="Click me" 
                SemanticProperties.Hint="Counts the number of times you click"
                Clicked="OnCounterClicked"
                HorizontalOptions="Fill" />
            
            <!--Tu jest błąd z rightPanelDataTemplateSelector, a raczej ControlTemplate-->
            <ContentView ControlTemplate="{StaticResource rightPanelDataTemplateSelector}" 
                         BindingContext="{Binding WorkingViewModel}"/>

        </VerticalStackLayout>
    </Grid>

</ContentPage>
